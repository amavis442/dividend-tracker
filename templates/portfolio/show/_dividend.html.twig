<table class="table">
    <thead>
        <tr>
            <th>Payment date</th>
            <th>Ex-dividend date</th>
            <th>Record_date</th>
            <th>Cash amount</th>
            <th>actions</th>
        </tr>
    </thead>
    <tbody>
    {% for calendar in calendars %}
        {% set dividendDaysLeft = calendar.getDaysLeft ?? -1 %}
        <tr  {% if dividendDaysLeft > -1 %}
                {% set badgeColor = 'info' %}
                {% if dividendDaysLeft > -1 and dividendDaysLeft < 2  %}
                    {% set badgeColor = 'danger' %}
                {% endif %}
                {% if dividendDaysLeft > 1 and dividendDaysLeft < 3  %}
                    {% set badgeColor = 'warning' %}
                {% endif %}
                class="table-{{badgeColor}}"
            {% endif %}>
            <td>{{ calendar.paymentDate ? calendar.paymentDate|date('d-m-Y') : '' }}</td>
            <td>{{ calendar.exDividendDate ? calendar.exDividendDate|date('d-m-Y') : '' }}</td>
            <td>{{ calendar.recordDate ? calendar.recordDate|date('d-m-Y') : '' }}</td>
            <td>{{ (calendar.currency ? calendar.currency.sign : '$')|raw }}{{ (calendar.cashAmount/1000)|format_number({fraction_digit: 3}) }}</td>
            <td>
                <a href="{{ path('calendar_edit', {'id': calendar.id}) }}" class="btn btn-primary"><i class="far fa-edit"></i></a>
            </td>
        </tr>
    {% else %}
        <tr>
            <td colspan="5">no records found</td>
        </tr>
    {% endfor %}
    </tbody>
</table>
<a class="btn btn-primary" href="{{ path('calendar_new', {'ticker': ticker.id}) }}"><i class="fas fa-plus"></i></i></a>
<hr/>                            
