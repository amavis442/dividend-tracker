<div class="row mb-3">
  <div class="d-flex justify-content-end">
    <a class="btn btn-primary" href="{{ path('payment_new', { position: position.id }) }}"><i class="fas fa-plus"></i></a>
  </div>
</div>

<div class="h2 alert alert-secondary mt-2 mb-2 d-flex justify-content-end" role="alert">
  {{ 'Total recieved dividends for this ticker'|trans }}:&nbsp;<strong>&euro;{{ dividend|format_number({ fraction_digit: 2 }) }}</strong>
</div>

<div class="row mb-3">
  <div class="col">
    <table class="table table-striped table-hover">
      <thead>
        <tr>
          <th></th>
          <th>{{ 'Pay date'|trans }}</th>
          <th>{{ 'Ex-dividend date'|trans }}</th>
          <th>{{ 'Amount'|trans }}</th>
          <th>{{ 'Total'|trans }}</th>
          <th>{{ 'Type'|trans }}</th>
          <th>{{ 'Actions'|trans }}</th>
        </tr>
      </thead>
      <tbody class="table-group-divider">
        {% for payment in ticker.payments %}
          <tr>
            <td></td>
            <td>{{ payment.payDate|date('d-m-Y') }}</td>
            <td>
              {% if payment.calendar %}
                {{ payment.calendar.exDividendDate ? payment.calendar.exDividendDate|date('d-m-Y') : '' }}
              {% endif %}
            </td>
            <td>{{ payment.amount|format_number({ fraction_digit: 7 }) }}</td>
            <td>{{ (payment.currency ? payment.currency.sign : '$')|raw }}{{ payment.dividend|format_number({ fraction_digit: 2 }) }}</td>
            <td>{{ payment.dividendType }}</td>
            <td>
              <div class="btn-toolbar" role="toolbar" aria-label="Toolbar with button groups">
                <div class="btn-group mr-2" role="group" aria-label="First group">
                  <a href="{{ path('payment_edit', { id: payment.id }) }}" class="btn btn-primary" data-toggle="tooltip" data-placement="top" title="Edit payment"><i class="far fa-edit"></i></a>
                </div>
              </div>
            </td>
          </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>
</div>
