{% extends 'base.html.twig' %}

{% block title %}Tickers per month dividendschema!
{% endblock %}



{% block body %}
    <div style='width:900px;height:600px' class="col col-xs-12">
        <canvas id="myChart" ></canvas>
    </div>
    <div style='width:900px;height:600px' class="col col-xs-12">
        <canvas id="myChartAllocation" ></canvas>
    </div>
{% endblock %}

{% block javascripts %}
    {{ encore_entry_script_tags('chart') }}
    {{ encore_entry_script_tags('app') }}
<script>
var ctx = document.getElementById('myChart').getContext('2d');
var myChart = new Chart(ctx, {
    type: 'line',
    data: {
        labels: {{ labels }},
        datasets: [{
            label: 'Dividend',
            data: {{ dividends }},
            borderColor: 'rgba(255, 99, 132, 0.2)'
        }, {
            label: 'Accumulative',
            data: {{ accumulative}},
            borderColor: 'rgba(54, 162, 235, 0.2)'
        }]
    },
    options: {
       title: {
            display: true,
            fontSize: 24,
            text: 'Dividends received in euro'
        },
        scales: {
            yAxes: [{
                ticks: {
                    beginAtZero: true,
                    callback: function(value, index, values) {
                        return '€' + value;
                    }
                }
            }]
        }
    }
});
window.chartColors = {
	red: '#92a8d1',
	orange: '#034f84',
	yellow: '#f7cac9',
	green: '#f7786b',
	blue: '#deeaee',
    purple: '#b1cbbb',
    lightblue: '#eea29a',
    beige: '#c94c4c',
    lightgreen: '#d5f4e6',
	grey: '#f0f0f0'
};
var config = {
			type: 'pie',
			data: {
				datasets: [{
					data: {{ allocatedPercentage|raw }},
					backgroundColor: [
						window.chartColors.red,
						window.chartColors.orange,
						window.chartColors.yellow,
						window.chartColors.green,
                        window.chartColors.blue,
                        window.chartColors.purple,
                        window.chartColors.beige,
                        window.chartColors.lightgreen,
                        window.chartColors.grey,
					],
					label: 'Allocation'
				}],
				labels: {{ allocationLabels|raw }}
			},
			options: {
                responsive: true,
                title: {
                    display: true,
                    fontSize: 24,
                    text: 'Allocation per sector'
                }
			}
        };
        
var ctxAllocation = document.getElementById('myChartAllocation').getContext('2d');
window.myPie = new Chart(ctxAllocation, config);
/*
var myChartAllocation = new Chart(ctxAllocation, {
    type: 'pie',
    data: {
        labels: {{ allocationLabels|raw }},
        datasets: [{
            label: 'Dividend',
            data: {{ allocatedPercentage|raw }},
            borderColor: 'rgba(255, 99, 132, 0.2)',
            backgroundColor: [
						window.chartColors.red,
						window.chartColors.orange,
						window.chartColors.yellow,
						window.chartColors.green,
						window.chartColors.blue,
					],
        }]
    },
    options: {
       title: {
            display: true,
            fontSize: 24,
            text: 'Dividends received in euro'
        },
        scales: {
            yAxes: [{
                ticks: {
                    beginAtZero: true,
                    callback: function(value, index, values) {
                        return '€' + value;
                    }
                }
            }]
        }
    }
});
*/
</script>

{% endblock %}
